<!-- START aside-->
<aside class="aside">
  <div ng-include="'components/sidebar/sidebar.html'"></div>
</aside>
<!-- END aside-->

<section>
  <!-- START Page content-->
  <div class="main-content">
    <a type="button" class="btn btn-primary pull-right" href="/create">
      <em class="fa fa-plus-circle fa-fw mr-sm"></em>Add User</a>
    <h3>Admin
      <br>
      <small>Features available only to adminstrator users.</small>
    </h3>

<!--
    <div class="row">
      <div class="col-md-10 col-md main" ui-view="mainPane">
        <h4>Users</h4>
        <p>The delete user and user index api routes are restricted to users with the 'admin' role.</p>
        <ul class="list-group">
          <li class="list-group-item" ng-repeat="user in users">
            <strong>{{user.name}}</strong>
            <br>
            user id: <code>{{user._id}}</code>
            <br>
            <span class="text-muted">{{user.email}}</span>
            <a ng-click="delete(user)" class="trash">
              <span class="glyphicon glyphicon-trash pull-right"></span>
            </a>
          </li>
        </ul>

      </div>
    </div>
-->

<div class="panel panel-default">
  <div class="panel-heading">Users
    <a href="javascript:void(0);" data-perform="panel-collapse" data-toggle="tooltip" title="" class="pull-right" data-original-title="Collapse Panel">
      <em class="fa fa-minus"></em>
    </a>
  </div>
  <!-- START table-responsive-->
  <div class="panel-wrapper collapse in" style="height: auto;">
    <div class="table-responsive">
      <table id="table-ext-2" class="table table-striped table-bordered table-hover">
        <thead>
          <tr>
            <th class="check-all">
              <div data-toggle="tooltip" data-title="Check All" class="checkbox c-checkbox" data-original-title="" title="">
                <label>
                  <input type="checkbox">
                  <span class="fa fa-check"></span>
                </label>
              </div>
            </th>
            <th>User / Account</th>
            <th>Expiration</th>
            <th>Featured</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="user in users" ng-class="{danger: isExpired(user)}">
            <td>
              <div class="checkbox c-checkbox">
                <label>
                  <input type="checkbox">
                  <span class="fa fa-check"></span>
                </label>
              </div>
            </td>
            <td>
              <div class="media">
                <a href="javascript:void(0);" class="pull-left">
                  <img src="assets/images/wintermin/img/user/01.jpg" alt="" class="media-object img-responsive img-circle">
                </a>
                <div class="media-body">
                  <div class="pull-right badge badge-info">{{user.role}}</div>
                  <div ng-if="isExpired(user)" class="pull-right badge bg-danger">expired</div>
                  <h4 class="media-heading">{{user.name}}</h4>
                  <p>Username: {{user.name}}<br>
                  User id: <code>{{user._id}}</code>
                  </p>
                  <a ui-sref="edit({id: user._id})" class="trash">
                    <span class="glyphicon glyphicon-edit pull-right" style="margin: 3px;"></span>
                  </a>
                  <a ng-click="delete(user)" class="trash">
                    <span class="glyphicon glyphicon-trash pull-right" style="margin: 3px;"></span>
                  </a>
                </div>
              </div>
            </td>
            <td>
              <p class="input-group" ng-if="!(user.role==='admin')">
                <input type="text"
                       class="form-control"
                       datepicker-popup="{{format}}"
                       ng-model="user.expiration"
                       is-open="opened[$index]"
                       min-date="2014-01-01"
                       max-date="'2100-12-31'"
                       datepicker-options="dateOptions"
                       date-disabled="disabled(date, mode)"
                       ng-required="true"
                       close-text="Close"
                       ng-change="expiration(user)"
                       />
                <span class="input-group-btn">
                  <button type="button" class="btn btn-default" ng-click="open($index, $event)"><i class="glyphicon glyphicon-calendar"></i></button>
                </span>
              </p>
            </td>
            <td class="text-center">
              <label class="switch" ng-if="!(user.role==='admin')">
                <input type="checkbox" ng-model="user.featured" ng-change="feature(user)">
                <span></span>
              </label>
            </td>
          </tr>

        </tbody>
      </table>
    </div>

  </div>
  <!-- END table-responsive-->
</div>


  </div>
  <!-- END Page content-->
  <!-- START Page footer-->
  <footer>&copy; 2014 - Wintermin</footer>
  <!-- END Page Footer-->
</section>
